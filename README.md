# Развертывание:

1. Установить Docker и Docker Compose  
2. Создать `.env` с YANDEX_CLIENT_ID, YANDEX_CLIENT_SECRET, SECRET_KEY.  
   (client_id и client_secret взять у яндекса, secret_key - девичья фамилия вашей матери)  
3. Запустить:  
   ```bash
   docker-compose up --build
   ```
4. API доступно на http://localhost:8000

---

## Авторизация через Яндекс:

```bash
curl -X GET 'http://localhost:8000/login/yandex'
```

Даст ссылку, перейти по ссылке, перекинет на `/callback/yandex`, скопировать токен.  
Первый зарегистрированный пользователь становиться **суперпользователем**.

---

## Обновить токен:

```bash
curl -X POST 'http://localhost:8000/refresh' -H "Authorization: Bearer <ваш токен>"
```

---

## Получить информацию о юзере:

```bash
curl -X GET "http://localhost:8000/users/me" -H "Authorization: Bearer <ваш токен>"
```

---

## Изменить информацию о пользвателе:

```bash
curl -X PUT "http://localhost:8000/users/me?email=<новый емеил>" \
     -H "Authorization: Bearer <ваш токен>"
```

---

## Удалить пользователя (только для суперпользователя):

```bash
curl -X DELETE "http://localhost:8000/users/{user_id}" \
     -H "Authorization: Bearer <ваш токен>"
```

---

## Добавить аудиофайл:

```bash
curl -X POST "http://localhost:8000/audio/upload?name=<название файла>" \
     -H "Authorization: Bearer <токен>" \
     -F "file=@/<путь к файлу>"
```

---

## Получить список с информацией об аудиофайлах:

```bash
curl -X GET "http://localhost:8000/audio/files" \
     -H "Authorization: Bearer <токен>"
```

---

# ТЗ:

Реализовать сервис по загрузке аудио-файлов от пользователей, используя FastAPI, SQLAlchemy и Docker. Пользователи могут давать файлам имя в самом API.  
Авторизацию пользователей реализовать через Яндекс.  
Файлы хранить локально, хранилище использовать не нужно.  
Использовать асинхронный код.  
БД - PostgreSQL 16.


## Ожидаемый результат:

1. Готовое API с возможностью авторизации через Яндекс с последующей аутентификацией к запросам через внутренние токены API.  
   Доступные эндпоинты: авторизация через яндекс, обновление внутреннего access_token; получение, изменение данных пользователя, удаление пользователя от имени суперпользователя; получение информации о аудио файлах пользователя: название файлов и путь в локальной хранилище.

2. Документация по развертыванию сервиса и БД в Docker.

Все коммиты вести от самого начала разработки. Код разместить в GitHub в открытом репозитории / дать доступ в приватный.